<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="../css/styles.css">
        <link rel="stylesheet" href="https://unpkg.com/@themesberg/flowbite@1.0.7/dist/flowbite.min.css" />

    </head>

    <body>
        <form>
            <div class="mb-6">
                <label for="email" class="text-sm font-medium text-gray-900 block mb-2">Your email</label>
                <input type="email" id="email-address"
                    class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    placeholder="name@flowbite.com" required>
            </div>
            <div class="mb-6">
                <label for="password" class="text-sm font-medium text-gray-900 block mb-2">Your password</label>
                <input type="password" id="password"
                    class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    required>
            </div>
            <div class="mb-6">
                <label for="repeat-password" class="text-sm font-medium text-gray-900 block mb-2">Repeat
                    password</label>
                <input type="password" id="repeat-password"
                    class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            </div>
            <div class="flex items-start mb-6">
                <div class="flex items-center h-5">
                    <input id="terms" aria-describedby="terms" type="checkbox"
                        class="bg-gray-50 border border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded">
                </div>
                <div class="text-sm ml-3">
                    <label for="terms" class="font-medium text-gray-900">I agree with the <a href="#"
                            class="text-blue-600 hover:underline">terms and conditions</a></label>
                </div>
            </div>
            <button type="submit" id="sign-up"
                class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Register
                new account</button>
        </form>


        <script src="https://unpkg.com/@themesberg/flowbite@1.0.7/dist/flowbite.bundle.js"></script>

        <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
        <script>
            console.log("Asfasf");

            // * FIRST initializeApp then anything after
            firebase.initializeApp({
                apiKey: "AIzaSyD-dQ1LyPjots2qb6ZoDYz74F9G2GInAEY",
                authDomain: "todo-200720.firebaseapp.com",
                databaseURL: "https://todo-200720.firebaseio.com",
                projectId: "todo-200720",
                storageBucket: "todo-200720.appspot.com",
                messagingSenderId: "241273295218",
                appId: "1:241273295218:web:5126f5ad87dd409ffb4deb",
                measurementId: "G-10HRN3PDGM"
            });


            // const auth = getAuth(firebaseApp);
            const sign_in = document.querySelector('#sign-up')
            sign_in.addEventListener('click', createUser)


            function createUser(e) {
                e.preventDefault();
                const userEmail = document.querySelector('#email-address').value
                const userPassword = document.querySelector('#password').value

                firebase.auth().createUserWithEmailAndPassword( userEmail, userPassword)
                    .then((userCredential) => {
                        // Signed in 
                        const user = userCredential.user;
                        // ...
                        console.log(user);
                        console.log("signed-up")
                        window.location.assign('../dashboad')
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        // ..

                        alert(errorCode)
                    });
            }

        </script>
    </body>

</html>